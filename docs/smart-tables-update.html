<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Smart Tables Update | jmvScaffold: R functions to develop jamovi modules</title>
  <meta name="description" content="It provise some explanations about using the package to develop jamovi modules" />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Smart Tables Update | jmvScaffold: R functions to develop jamovi modules" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="It provise some explanations about using the package to develop jamovi modules" />
  <meta name="github-repo" content="mcfanda/jmvScaffold" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Smart Tables Update | jmvScaffold: R functions to develop jamovi modules" />
  
  <meta name="twitter:description" content="It provise some explanations about using the package to develop jamovi modules" />
  

<meta name="author" content="Marcello Gallucci" />


<meta name="date" content="2023-01-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="formatting-tables.html"/>
<link rel="next" href="appendixa.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="mcstyle.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">jmvScaffold howto</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="booklet.html"><a href="booklet.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="booklet.html"><a href="booklet.html#preface"><i class="fa fa-check"></i><b>1.1</b> Preface</a></li>
<li class="chapter" data-level="1.2" data-path="booklet.html"><a href="booklet.html#getstarted"><i class="fa fa-check"></i><b>1.2</b> Getting Started</a></li>
<li class="chapter" data-level="1.3" data-path="booklet.html"><a href="booklet.html#createmodule"><i class="fa fa-check"></i><b>1.3</b> Create a module</a></li>
<li class="chapter" data-level="1.4" data-path="booklet.html"><a href="booklet.html#defining-the-analysis"><i class="fa fa-check"></i><b>1.4</b> Defining the analysis</a></li>
<li class="chapter" data-level="1.5" data-path="booklet.html"><a href="booklet.html#jamovi-analysis"><i class="fa fa-check"></i><b>1.5</b> jamovi analysis</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="interface.html"><a href="interface.html"><i class="fa fa-check"></i><b>2</b> Interface</a>
<ul>
<li class="chapter" data-level="2.1" data-path="interface.html"><a href="interface.html#options-.a.yaml"><i class="fa fa-check"></i><b>2.1</b> Options (.a.yaml)</a></li>
<li class="chapter" data-level="2.2" data-path="interface.html"><a href="interface.html#layout-.u.yaml"><i class="fa fa-check"></i><b>2.2</b> Layout (.u.yaml)</a></li>
<li class="chapter" data-level="2.3" data-path="interface.html"><a href="interface.html#compile"><i class="fa fa-check"></i><b>2.3</b> Compiling the jamovi module</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="chapter3.html"><a href="chapter3.html"><i class="fa fa-check"></i><b>3</b> Results</a>
<ul>
<li class="chapter" data-level="3.1" data-path="chapter3.html"><a href="chapter3.html#preparing-the-results"><i class="fa fa-check"></i><b>3.1</b> Preparing the results</a></li>
<li class="chapter" data-level="3.2" data-path="chapter3.html"><a href="chapter3.html#defining-the-result-tables-.r.yaml"><i class="fa fa-check"></i><b>3.2</b> Defining the result tables (.r.yaml)</a></li>
<li class="chapter" data-level="3.3" data-path="chapter3.html"><a href="chapter3.html#r-code-for-jamovi"><i class="fa fa-check"></i><b>3.3</b> R code for jamovi</a></li>
<li class="chapter" data-level="3.4" data-path="chapter3.html"><a href="chapter3.html#initialize-a-table"><i class="fa fa-check"></i><b>3.4</b> Initialize a table</a></li>
<li class="chapter" data-level="3.5" data-path="chapter3.html"><a href="chapter3.html#populating-a-table"><i class="fa fa-check"></i><b>3.5</b> Populating a table</a></li>
<li class="chapter" data-level="3.6" data-path="chapter3.html"><a href="chapter3.html#passing-data-to-smarttables"><i class="fa fa-check"></i><b>3.6</b> Passing data to SmartTables</a></li>
<li class="chapter" data-level="3.7" data-path="chapter3.html"><a href="chapter3.html#automatic-filling-of-tables."><i class="fa fa-check"></i><b>3.7</b> Automatic filling of tables.</a></li>
<li class="chapter" data-level="3.8" data-path="chapter3.html"><a href="chapter3.html#r6-classes-to-run-complex-modules"><i class="fa fa-check"></i><b>3.8</b> R6 classes to run complex modules</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="advanced-results-objects.html"><a href="advanced-results-objects.html"><i class="fa fa-check"></i><b>4</b> Advanced Results Objects</a>
<ul>
<li class="chapter" data-level="4.1" data-path="advanced-results-objects.html"><a href="advanced-results-objects.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="advanced-results-objects.html"><a href="advanced-results-objects.html#groups-jmvcoregroup"><i class="fa fa-check"></i><b>4.2</b> Groups (jmvcore::Group)</a></li>
<li class="chapter" data-level="4.3" data-path="advanced-results-objects.html"><a href="advanced-results-objects.html#arrays-of-tables-jmvcorearray"><i class="fa fa-check"></i><b>4.3</b> Arrays of tables (jmvcore::Array)</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="advanced-results-objects.html"><a href="advanced-results-objects.html#array-known-number-of-tables"><i class="fa fa-check"></i><b>4.3.1</b> Array: known number of tables</a></li>
<li class="chapter" data-level="4.3.2" data-path="advanced-results-objects.html"><a href="advanced-results-objects.html#array-unknown-number-of-tables"><i class="fa fa-check"></i><b>4.3.2</b> Array: Unknown number of tables</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="advanced-results-objects.html"><a href="advanced-results-objects.html#other-results-objects"><i class="fa fa-check"></i><b>4.4</b> Other Results objects</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dynamic-tables-display.html"><a href="dynamic-tables-display.html"><i class="fa fa-check"></i><b>5</b> Dynamic Tables Display</a>
<ul>
<li class="chapter" data-level="5.1" data-path="dynamic-tables-display.html"><a href="dynamic-tables-display.html#introduction-1"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="dynamic-tables-display.html"><a href="dynamic-tables-display.html#showing-table-on-options-change"><i class="fa fa-check"></i><b>5.2</b> Showing table on options change</a></li>
<li class="chapter" data-level="5.3" data-path="dynamic-tables-display.html"><a href="dynamic-tables-display.html#showing-tables-programmatically"><i class="fa fa-check"></i><b>5.3</b> Showing tables programmatically</a></li>
<li class="chapter" data-level="5.4" data-path="dynamic-tables-display.html"><a href="dynamic-tables-display.html#additional-strategies"><i class="fa fa-check"></i><b>5.4</b> Additional strategies</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="warning-failing-and-debuging.html"><a href="warning-failing-and-debuging.html"><i class="fa fa-check"></i><b>6</b> Warning, Failing and Debuging</a>
<ul>
<li class="chapter" data-level="6.1" data-path="warning-failing-and-debuging.html"><a href="warning-failing-and-debuging.html#introduction-2"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="warning-failing-and-debuging.html"><a href="warning-failing-and-debuging.html#tables-debugging"><i class="fa fa-check"></i><b>6.2</b> Tables debugging</a></li>
<li class="chapter" data-level="6.3" data-path="warning-failing-and-debuging.html"><a href="warning-failing-and-debuging.html#mark-landmarks"><i class="fa fa-check"></i><b>6.3</b> Mark landmarks</a></li>
<li class="chapter" data-level="6.4" data-path="warning-failing-and-debuging.html"><a href="warning-failing-and-debuging.html#automatic-errors"><i class="fa fa-check"></i><b>6.4</b> Automatic Errors</a></li>
<li class="chapter" data-level="6.5" data-path="warning-failing-and-debuging.html"><a href="warning-failing-and-debuging.html#awarnings"><i class="fa fa-check"></i><b>6.5</b> Automatic Warnings</a></li>
<li class="chapter" data-level="6.6" data-path="warning-failing-and-debuging.html"><a href="warning-failing-and-debuging.html#codewarnings"><i class="fa fa-check"></i><b>6.6</b> Code-generated Warnings and Messages</a></li>
<li class="chapter" data-level="6.7" data-path="warning-failing-and-debuging.html"><a href="warning-failing-and-debuging.html#transient-messages"><i class="fa fa-check"></i><b>6.7</b> Transient messages</a></li>
<li class="chapter" data-level="6.8" data-path="warning-failing-and-debuging.html"><a href="warning-failing-and-debuging.html#capturing-warnings-and-errors"><i class="fa fa-check"></i><b>6.8</b> Capturing warnings and errors</a></li>
<li class="chapter" data-level="6.9" data-path="warning-failing-and-debuging.html"><a href="warning-failing-and-debuging.html#unwanted-or-unfriendly-warnings"><i class="fa fa-check"></i><b>6.9</b> Unwanted or unfriendly warnings</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="formatting-tables.html"><a href="formatting-tables.html"><i class="fa fa-check"></i><b>7</b> Formatting Tables</a>
<ul>
<li class="chapter" data-level="7.1" data-path="formatting-tables.html"><a href="formatting-tables.html#introduction-3"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="formatting-tables.html"><a href="formatting-tables.html#initializing-the-table"><i class="fa fa-check"></i><b>7.2</b> Initializing the table</a></li>
<li class="chapter" data-level="7.3" data-path="formatting-tables.html"><a href="formatting-tables.html#combining-below"><i class="fa fa-check"></i><b>7.3</b> Combining below</a></li>
<li class="chapter" data-level="7.4" data-path="formatting-tables.html"><a href="formatting-tables.html#add-spaces-between-rows"><i class="fa fa-check"></i><b>7.4</b> Add spaces between rows</a></li>
<li class="chapter" data-level="7.5" data-path="formatting-tables.html"><a href="formatting-tables.html#indent-some-row-value"><i class="fa fa-check"></i><b>7.5</b> Indent some row value</a></li>
<li class="chapter" data-level="7.6" data-path="formatting-tables.html"><a href="formatting-tables.html#showing-columns-when-needed"><i class="fa fa-check"></i><b>7.6</b> Showing columns when needed</a></li>
<li class="chapter" data-level="7.7" data-path="formatting-tables.html"><a href="formatting-tables.html#showing-columns-programmatically"><i class="fa fa-check"></i><b>7.7</b> Showing columns programmatically</a></li>
<li class="chapter" data-level="7.8" data-path="formatting-tables.html"><a href="formatting-tables.html#changing-column-names-programmatically"><i class="fa fa-check"></i><b>7.8</b> Changing column names programmatically</a></li>
<li class="chapter" data-level="7.9" data-path="formatting-tables.html"><a href="formatting-tables.html#super-titles"><i class="fa fa-check"></i><b>7.9</b> Super Titles</a></li>
<li class="chapter" data-level="7.10" data-path="formatting-tables.html"><a href="formatting-tables.html#something-else"><i class="fa fa-check"></i><b>7.10</b> Something else</a></li>
<li class="chapter" data-level="7.11" data-path="formatting-tables.html"><a href="formatting-tables.html#adding-columns-programmatically"><i class="fa fa-check"></i><b>7.11</b> Adding columns programmatically</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="smart-tables-update.html"><a href="smart-tables-update.html"><i class="fa fa-check"></i><b>8</b> Smart Tables Update</a>
<ul>
<li class="chapter" data-level="8.1" data-path="smart-tables-update.html"><a href="smart-tables-update.html#the-issue"><i class="fa fa-check"></i><b>8.1</b> The issue</a></li>
<li class="chapter" data-level="8.2" data-path="smart-tables-update.html"><a href="smart-tables-update.html#the-solution"><i class="fa fa-check"></i><b>8.2</b> The Solution</a></li>
<li class="chapter" data-level="8.3" data-path="smart-tables-update.html"><a href="smart-tables-update.html#bottom-line"><i class="fa fa-check"></i><b>8.3</b> Bottom line</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="appendixa.html"><a href="appendixa.html"><i class="fa fa-check"></i><b>A</b> Appendix A</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">jmvScaffold: R functions to develop jamovi modules</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="smart-tables-update" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Chapter 8</span> Smart Tables Update<a href="smart-tables-update.html#smart-tables-update" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="the-issue" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> The issue<a href="smart-tables-update.html#the-issue" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>COOLj</code> module we are building is pretty fast, so we can update its options and still get a smooth feeling from the output section. Indeed, if we are using the <code>Big 5</code> data with 4 <code>covariates</code>, we can flag and unflag the <code>Show means for Sig.</code> or <code>ES CI</code> options and get the results very quickly.</p>
<p>Imagine now that your module gets quite complex, with tens of tables and options. Likely, some of the table will require some time to update (maybe one uses bootstrap, for instance), and that will slow down the display of all other tables. Let’s simulate that by artificially slowing down our (original) <code>anova</code> tables.</p>
<div class="filename">
<span class="filename">File: R/Runner.R (<a href='https://github.com/mcfanda/COOLj/tree/Version.0.0.8/R/Runner.R' target='_blank'>Online version</a>)</span>
</div>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="smart-tables-update.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co">#...#</span></span>
<span id="cb83-2"><a href="smart-tables-update.html#cb83-2" aria-hidden="true" tabindex="-1"></a>    run_main_anova<span class="ot">=</span><span class="cf">function</span>() {</span>
<span id="cb83-3"><a href="smart-tables-update.html#cb83-3" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb83-4"><a href="smart-tables-update.html#cb83-4" aria-hidden="true" tabindex="-1"></a>      .anova          <span class="ot">&lt;-</span>  <span class="fu">as.data.frame</span>(car<span class="sc">::</span><span class="fu">Anova</span>(self<span class="sc">$</span>model,<span class="at">type=</span><span class="dv">3</span>))</span>
<span id="cb83-5"><a href="smart-tables-update.html#cb83-5" aria-hidden="true" tabindex="-1"></a>       <span class="fu">names</span>(.anova)  <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="st">&quot;nothing&quot;</span>,<span class="st">&quot;df1&quot;</span>,<span class="st">&quot;test&quot;</span>,<span class="st">&quot;p&quot;</span>)</span>
<span id="cb83-6"><a href="smart-tables-update.html#cb83-6" aria-hidden="true" tabindex="-1"></a>      .anova<span class="sc">$</span>df2      <span class="ot">&lt;-</span>  self<span class="sc">$</span>model<span class="sc">$</span>df.residual</span>
<span id="cb83-7"><a href="smart-tables-update.html#cb83-7" aria-hidden="true" tabindex="-1"></a>      .anova<span class="sc">$</span>var      <span class="ot">&lt;-</span>  <span class="fu">rownames</span>(.anova)</span>
<span id="cb83-8"><a href="smart-tables-update.html#cb83-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">Sys.sleep</span>(<span class="dv">3</span>) <span class="do">## simulate a slow computation</span></span>
<span id="cb83-9"><a href="smart-tables-update.html#cb83-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">return</span>(.anova)</span>
<span id="cb83-10"><a href="smart-tables-update.html#cb83-10" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb83-11"><a href="smart-tables-update.html#cb83-11" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb83-12"><a href="smart-tables-update.html#cb83-12" aria-hidden="true" tabindex="-1"></a><span class="co">#...#</span></span></code></pre></div>
<p>If you try now, you’ll see that every time the user changes something in the GUI, they have to wait for all tables to be filled. This behavior can be changed.</p>
</div>
<div id="the-solution" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> The Solution<a href="smart-tables-update.html#the-solution" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Many tables do not need to be re-run every time an option is changed. Our <code>anova</code> table, for instance, does not need to be re-computed when we ask for the means, by flagging the <code>Show means for sig.</code> option. The two tables are independent, so showing one should not affect showing the other.</p>
<p>By default, all <span class="jamovi"><a href="http://www.jamovi.org" target="_blank">jamovi</a></span> tables are initialized and run every time the input GUI changed. We can change this behavior by adding the property <code>clearWith:</code> to the tables in <code>.r.yaml</code> file. In <code>clearWith:</code>, one can specify the options that would update the table. All changes in other options will not update the table. Thus, in our example, we can set <code>.r.yaml</code> file as follows:</p>
<div class="filename">
<span class="filename">File: jamov/myregression.r.yaml (<a href='https://github.com/mcfanda/COOLj/tree/Version.0.0.8/jamov/myregression.r.yaml' target='_blank'>Online version</a>)</span>
</div>
<div class="sourceCode" id="cb84"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb84-1"><a href="smart-tables-update.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ... ##</span></span>
<span id="cb84-2"><a href="smart-tables-update.html#cb84-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-3"><a href="smart-tables-update.html#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> anova</span></span>
<span id="cb84-4"><a href="smart-tables-update.html#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="at">             </span><span class="fu">title</span><span class="kw">:</span><span class="at">  ANOVA table</span></span>
<span id="cb84-5"><a href="smart-tables-update.html#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="at">             </span><span class="fu">type</span><span class="kw">:</span><span class="at"> Table</span></span>
<span id="cb84-6"><a href="smart-tables-update.html#cb84-6" aria-hidden="true" tabindex="-1"></a><span class="co">             ## Here is the new property</span></span>
<span id="cb84-7"><a href="smart-tables-update.html#cb84-7" aria-hidden="true" tabindex="-1"></a><span class="at">             </span><span class="fu">clearWith</span><span class="kw">:</span></span>
<span id="cb84-8"><a href="smart-tables-update.html#cb84-8" aria-hidden="true" tabindex="-1"></a><span class="at">                     </span><span class="kw">-</span><span class="at"> dep</span></span>
<span id="cb84-9"><a href="smart-tables-update.html#cb84-9" aria-hidden="true" tabindex="-1"></a><span class="at">                     </span><span class="kw">-</span><span class="at"> covs</span></span>
<span id="cb84-10"><a href="smart-tables-update.html#cb84-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-11"><a href="smart-tables-update.html#cb84-11" aria-hidden="true" tabindex="-1"></a><span class="at">             </span><span class="fu">columns</span><span class="kw">:</span></span>
<span id="cb84-12"><a href="smart-tables-update.html#cb84-12" aria-hidden="true" tabindex="-1"></a><span class="at">                    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> var</span></span>
<span id="cb84-13"><a href="smart-tables-update.html#cb84-13" aria-hidden="true" tabindex="-1"></a><span class="at">                      </span><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;Variable&quot;</span></span>
<span id="cb84-14"><a href="smart-tables-update.html#cb84-14" aria-hidden="true" tabindex="-1"></a><span class="at">                      </span><span class="fu">type</span><span class="kw">:</span><span class="at"> text</span></span>
<span id="cb84-15"><a href="smart-tables-update.html#cb84-15" aria-hidden="true" tabindex="-1"></a><span class="co">## ... ##       </span></span></code></pre></div>
<p>Then we need to init the table, with some simple information like this:</p>
<div class="filename">
<span class="filename">File: R/Runner.R (<a href='https://github.com/mcfanda/COOLj/tree/Version.0.0.8/R/Runner.R' target='_blank'>Online version</a>)</span>
</div>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="smart-tables-update.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co">#...#</span></span>
<span id="cb85-2"><a href="smart-tables-update.html#cb85-2" aria-hidden="true" tabindex="-1"></a>    init_main_anova<span class="ot">=</span><span class="cf">function</span>() {</span>
<span id="cb85-3"><a href="smart-tables-update.html#cb85-3" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb85-4"><a href="smart-tables-update.html#cb85-4" aria-hidden="true" tabindex="-1"></a>      covs      <span class="ot">&lt;-</span> self<span class="sc">$</span>analysis<span class="sc">$</span>options<span class="sc">$</span>covs</span>
<span id="cb85-5"><a href="smart-tables-update.html#cb85-5" aria-hidden="true" tabindex="-1"></a>      terms     <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;(Intercept)&quot;</span>,covs,<span class="st">&quot;Residuals&quot;</span>)</span>
<span id="cb85-6"><a href="smart-tables-update.html#cb85-6" aria-hidden="true" tabindex="-1"></a>      tab       <span class="ot">&lt;-</span> <span class="fu">lapply</span>(terms, <span class="cf">function</span>(x) <span class="fu">list</span>(<span class="at">var=</span>x))</span>
<span id="cb85-7"><a href="smart-tables-update.html#cb85-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">return</span>(tab)</span>
<span id="cb85-8"><a href="smart-tables-update.html#cb85-8" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb85-9"><a href="smart-tables-update.html#cb85-9" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb85-10"><a href="smart-tables-update.html#cb85-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># the run function did not change</span></span>
<span id="cb85-11"><a href="smart-tables-update.html#cb85-11" aria-hidden="true" tabindex="-1"></a>    run_main_anova<span class="ot">=</span><span class="cf">function</span>() {</span>
<span id="cb85-12"><a href="smart-tables-update.html#cb85-12" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb85-13"><a href="smart-tables-update.html#cb85-13" aria-hidden="true" tabindex="-1"></a>      .anova          <span class="ot">&lt;-</span>  <span class="fu">as.data.frame</span>(car<span class="sc">::</span><span class="fu">Anova</span>(self<span class="sc">$</span>model,<span class="at">type=</span><span class="dv">3</span>))</span>
<span id="cb85-14"><a href="smart-tables-update.html#cb85-14" aria-hidden="true" tabindex="-1"></a>       <span class="fu">names</span>(.anova)  <span class="ot">&lt;-</span>  <span class="fu">c</span>(<span class="st">&quot;nothing&quot;</span>,<span class="st">&quot;df1&quot;</span>,<span class="st">&quot;test&quot;</span>,<span class="st">&quot;p&quot;</span>)</span>
<span id="cb85-15"><a href="smart-tables-update.html#cb85-15" aria-hidden="true" tabindex="-1"></a>      .anova<span class="sc">$</span>df2      <span class="ot">&lt;-</span>  self<span class="sc">$</span>model<span class="sc">$</span>df.residual</span>
<span id="cb85-16"><a href="smart-tables-update.html#cb85-16" aria-hidden="true" tabindex="-1"></a>      .anova<span class="sc">$</span>var      <span class="ot">&lt;-</span>  <span class="fu">rownames</span>(.anova)</span>
<span id="cb85-17"><a href="smart-tables-update.html#cb85-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">Sys.sleep</span>(<span class="dv">3</span>) <span class="do">## simulate a slow computation</span></span>
<span id="cb85-18"><a href="smart-tables-update.html#cb85-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">return</span>(.anova)</span>
<span id="cb85-19"><a href="smart-tables-update.html#cb85-19" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb85-20"><a href="smart-tables-update.html#cb85-20" aria-hidden="true" tabindex="-1"></a>      },</span>
<span id="cb85-21"><a href="smart-tables-update.html#cb85-21" aria-hidden="true" tabindex="-1"></a><span class="co">#...#</span></span></code></pre></div>
<p>If you now compile the module and flag and the unflag the <code>Show Means for Sig.</code> option, you’ll see that the <code>anova</code> table do not change and the execution becomes much faster. If you chance the dependent variable or some of the covariates, the two tables will update.</p>
<p>If you do this process for all the tables, you will see that they update only when needed. The only exception are Unkeyed Arrays of tables (the ones you defined based on the results, such as the <code>sig_means</code> array in the example). They are always refilled, because <span class="jamovi"><a href="http://www.jamovi.org" target="_blank">jamovi</a></span> cannot know in advanced how many tables you need.</p>
</div>
<div id="bottom-line" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Bottom line<a href="smart-tables-update.html#bottom-line" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>One can program <span class="jamovi"><a href="http://www.jamovi.org" target="_blank">jamovi</a></span> modules freely with all techniques one wishes. If one wants to take advantage of <span class="jamovi"><a href="http://www.jamovi.org" target="_blank">jamovi</a></span> flexibility and <code>jmvScaffold</code> helping function, one can follow these guidelines:</p>
<ul>
<li>Define a table in <code>.r.yaml</code></li>
<li>Define a <code>Scaffold</code> runner</li>
<li>Associate each table in the <code>.b.R</code> file to a SmartTable or Smart Array</li>
<li>Write a <code>init_tablename</code> in the <code>Runner</code> object to initialize the table</li>
<li>Write a <code>run_tablename</code> in the <code>Runner</code> object to fill the table</li>
<li>Adjust the aestetics of the table in the <code>.b.R</code> file</li>
</ul>

</div>
</div>



<span id="cb86-2"><a href="smart-tables-update.html#cb86-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>knit_engines<span class="sc">$</span><span class="fu">get</span>(<span class="st">&quot;yaml&quot;</span>)</span></code></pre></div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="formatting-tables.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendixa.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["jmvScaffoldHowto.pdf", "jmvScaffoldHowto.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
